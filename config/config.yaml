server:
  port: 8080
  mode: debug
  name: distributed-service
  version: v1.0.0
  tags: "myapp,test-server"

logger:
  level: debug
  encoding: console
  output_path: stdout

jwt:
  secret_key: "your-super-secret-jwt-key-change-in-production"
  issuer: "distributed-service"

consul:
  host: localhost
  port: 8500
  service_check_interval: 10s
  deregister_critical_service_after: 30s

metrics:
  enabled: true
  prometheus_port: 9090

mysql:
  host: localhost
  port: 3306
  username: root
  password: root
  database: distributed_service
  charset: utf8mb4
  max_idle_conns: 10
  max_open_conns: 100

redis:
  host: localhost
  port: 6379
  password: ""
  db: 0
  pool_size: 100

rabbitmq:
  host: localhost
  port: 5672
  username: guest
  password: guest
  vhost: /

tracing:
  service_name: distributed-service
  service_version: v1.0.0
  environment: development
  enabled: true
  exporter_type: stdout  # 可选: "otlp", "stdout"
  endpoint: "localhost:14268"  # Jaeger endpoint
  sample_ratio: 1.0  # 1.0 表示采样所有请求，生产环境建议设为 0.1 或更小

ratelimit:
  enabled: true
  store_type: memory  # 本地开发使用内存存储，生产环境使用redis
  redis_prefix: "ratelimit:"
  default_config:
    health_check: "10-S"      # 健康检查：每秒10次
    auth_public: "20-M"       # 认证公开端点：每分钟20次
    auth_protected: "10-M"    # 认证保护端点：每分钟10次
    user_public: "30-M"       # 用户公开API：每分钟30次
    user_protected: "50-M"    # 用户保护API：每分钟50次
  endpoints:
    "/health": "10-S"
    "/api/v1/auth/register": "20-M"
    "/api/v1/auth/login": "20-M"
    "/api/v1/auth/refresh": "20-M"
    "/api/v1/auth/change-password": "10-M"
    "/api/v1/users/me": "50-M"
    "/api/v1/users": "30-M" 